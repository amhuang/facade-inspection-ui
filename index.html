<!DOCTYPE html>
<html>
<head>
	<title>Livestream GUI</title>
	<link rel="stylesheet" type="text/css" href="styles/styles.css">
	<script src="scripts/pkgs/paho-js-client.js" type="text/javascript"></script>
	<script src="scripts/pkgs/jquery3.5.1.js" type="text/javascript"></script>
</head>

<body ondragstart="return false;" ondrop="return false;">

	<!-- POPUPS -->

	<div id="popup-error" class="popup error">
		<h4>Error</h4>
		<button class="close-error" id="close-error"></button>
		<p id="error-msg"></p>

		<button class="popup-option" id="no-leveling">
			<p>Disable leveling</p>
		</button>
		<!-- <button class="popup-option right" id="cancel-error">
			<p>Connect to backup</p>
		</button> -->
		<button class="popup-option right" id="switch-backup">
			<p>Connect to backup</p>
		</button>
		<button class="popup-option center" id="replace-with-backup">
			<p>Connect to backup</p>
		</button>
	</div>

	<div id="popup-confirm" class="popup confirm">
		<h4 class="light" id='confirm-header'>Are you sure?</h4>
		<p class="light" id="confirm-msg"></p>
		<button class="popup-option" id="confirm-no">
			<p class="light">Cancel</p>
		</button>
		<button class="popup-option right" id="confirm-yes">
			<p class="light">Confirm</p>
		</button>
	</div>

	<div id="popup-settings" class="popup settings">
		<button class="close-popup" id="close-settings"></button>
		<h4 class="light">Settings</h4>
		<div class='time-grid'>

			<p class='settings'>Time from ground: </p>
			<p class='settings' id='time-from-ground'>0:00</p>

			<p class='settings'>Sea level pressure: </p>
			<input class='set-val operation' type='text' placeholder='30inHg' id='sea-level-pressure'>
			<button class='set-val' id='set-sea-level-pressure'></button>

			<!--
			<p class='light'>Active cycle time: </p>
			<input class='set-val operation' type='text' placeholder='15 min'>
			<button class='set-val' id='set-cycle-time'></button>
			-->
			<p class='settings'>Total operation time: </p>
			<p class='settings' id='operation-time'>0:00</p>

			<p class='settings'>Maximum height: </p>
			<input class='set-val operation' type='text' placeholder='30ft' id='max-height'>
			<button class='set-val' id='set-max-height'></button>

		</div>
		<hr>
		<form class='set-val'>
			<label class='set-val' for='upperpi'>Upper Pi IP  </label>
			<input class='set-val' type='text' id='upperpi' value='192.168.1.237'>
			<p></p>
			<label class='set-val' for='lowerpi'>Lower Pi IP  </label>
			<input class='set-val' type='text' id='lowerpi' value='192.168.1.137'>
			<button class='set-val' id='set-ip-addr'></button>
			<label class='set-val' for='backuppi'>Backup IP  </label>
			<input class='set-val' type='text' id='backuppi' value='192.168.1.113'>
			<p></p>
		</form>
		<hr>
		<button class="popup-option" id="make-level">
			<p class="light">Level in place</p>
		</button>
		<button class="popup-option right" id="toggle-leveling">
			<p class="light">Disable leveling</p>
		</button>
	</div>

	<!-- LIVESTREAMS -->

	<div class="page-container-left" id="page-container-left">

		<div id="fullscreen">
			<div class="center-video">
				<img id="livestream-0"></img>
			</div>
			<button class="show-editing"></button>
			<button onclick="hideSliders(0)" class="show-editing"></button>
			<button onclick="minimize()" class="show-fullscreen"></button>
			<div class="multi-slider" id="settings-0">
				<div class="slider-box">
					<img class="edit-symbol" src="images/brightness.png"></img>
					<input id="brightness-0" oninput="brightness(this.value, 0)" type="range" class="slider" min="20" max="180" value="100">
				</div>
				<div class="slider-box">
					<img class="edit-symbol" src="images/contrast.png"></img>
					<input id="contrast-0" oninput="contrast(this.value,0)" type="range" class="slider" min="20" max="180" value="100">
				</div>
			</div>
		</div>

		<div id="all-videos">
			<div class="video-container">
				<h1>Livestream 1</h1>
				<div class="center-video">
					<img id="livestream-1"> hi hello</img>
				</div>
				<button onclick="hideSliders(1)" class="show-editing"></button>
				<button onclick="fullScreen(1)" class="show-fullscreen test"></button>
				<div class="multi-slider" id="settings-1">
					<div class="slider-box">
						<img class="edit-symbol" src="images/brightness.png"></img>
						<input id="brightness-1" oninput="brightness(this.value, 1)" type="range" class="slider" min="20" max="180" value="100">
					</div>
					<div class="slider-box">
						<img class="edit-symbol" src="images/contrast.png"></img>
						<input id="contrast-1" oninput="contrast(this.value, 1)" type="range" class="slider" min="20" max="180" value="100">
					</div>
				</div>
			</div>
			<div class="video-container">
				<h1>Livestream 2</h1>
				<div class="center-video">
					<img id="livestream-2"></img>
				</div>
				<button onclick="hideSliders(2)" class="show-editing"></button>
				<button onclick="fullScreen(2)" class="show-fullscreen test"></button>
				<div class="multi-slider" id="settings-2">
					<div class="slider-box">
						<img class="edit-symbol" src="images/brightness.png"></img>
						<input id="brightness-2" oninput="brightness(this.value, 2)" type="range" class="slider" min="20" max="180" value="100">
					</div>
					<div class="slider-box">
						<img class="edit-symbol" src="images/contrast.png"></img>
						<input id="contrast-2" oninput="contrast(this.value, 2)" type="range" class="slider" min="20" max="180" value="100">
					</div>
				</div>
			</div>
			<div class="video-container">
				<h1>Livestream 3</h1>
				<div class="center-video">
					<img id="livestream-3"></img>
				</div>
				<button onclick="hideSliders(3)" class="show-editing"></button>
				<button onclick="fullScreen(3)" class="show-fullscreen test"></button>
				<div class="multi-slider" id="settings-3">
					<div class="slider-box">
						<img class="edit-symbol" src="images/brightness.png"></img>
						<input id="brightness-3" oninput="brightness(this.value, 3)" type="range" class="slider" min="20" max="180" value="100">
					</div>
					<div class="slider-box">
						<img class="edit-symbol" src="images/contrast.png"></img>
						<input id="contrast-3" oninput="contrast(this.value, 3)" type="range" class="slider" min="20" max="180" value="100">
					</div>
				</div>
			</div>
			<div class="video-container">
				<h1>Livestream 4</h1>
				<div class="center-video">
					<img id="livestream-4"></img>
				</div>
				<button onclick="hideSliders(4)" class="show-editing"></button>
				<button onclick="fullScreen(4)" class="show-fullscreen test"></button>
				<div class="multi-slider" id="settings-4">
					<div class="slider-box">
						<img class="edit-symbol" src="images/brightness.png"></img>
						<input id="brightness-4" oninput="brightness(this.value, 4)" type="range" class="slider" min="20" max="180" value="100">
					</div>
					<div class="slider-box">
						<img class="edit-symbol" src="images/contrast.png"></img>
						<input id="contrast-4" oninput="contrast(this.value, 4)" type="range" class="slider" min="20" max="180" value="100">
					</div>
				</div>
			</div>
			<div class="video-container">
				<h1>Livestream 5</h1>
				<div class="center-video">
					<img id="livestream-5"></img>
				</div>
				<button onclick="hideSliders(5)" class="show-editing"></button>
				<button onclick="fullScreen(5)" class="show-fullscreen test"></button>
				<div class="multi-slider" id="settings-5">
					<div class="slider-box">
						<img class="edit-symbol" src="images/brightness.png"></img>
						<input id="brightness-5" oninput="brightness(this.value, 5)" type="range" class="slider" min="20" max="180" value="100">
					</div>
					<div class="slider-box">
						<img class="edit-symbol" src="images/contrast.png"></img>
						<input id="contrast-5" oninput="contrast(this.value, 5)" type="range" class="slider" min="20" max="180" value="100">
					</div>
				</div>
			</div>
			<div class="video-container">
				<h1>Livestream 6</h1>
				<div class="center-video">
					<img id="livestream-6"></img>
				</div>
				<button onclick="hideSliders(6)" class="show-editing"></button>
				<button onclick="fullScreen(6)" class="show-fullscreen test"></button>
				<div class="multi-slider" id="settings-6">
					<div class="slider-box">
						<img class="edit-symbol" src="images/brightness.png"></img>
						<input id="brightness-6" oninput="brightness(this.value, 6)" type="range" class="slider" min="20" max="180" value="100">
					</div>
					<div class="slider-box">
						<img class="edit-symbol" src="images/contrast.png"></img>
						<input id="contrast-6" oninput="contrast(this.value, 6)" type="range" class="slider" min="20" max="180" value="100">
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- CONTROLS AND SENSORS -->
	<div class="page-container-right">

		<button id="show-settings"></button>

		<!-- Hoist Controls -->
		<div class="hoist-control">

			<div class="hoist-control sub">
				<img id="up-arrow" class="arrow" src="images/arrow-up.png"></img>

				<div class="hoist-control cell" id="up-left-box">
					<img class="small-arrow" src="images/arrow-up.png"></img>
				</div>
				<div class="hoist-control cell" id="up-right-box">
					<img class="small-arrow" src="images/arrow-up.png"></img>
				</div>
			</div>

			<button class="hoist-mode" id="hoist-mode">
				<h3 style="opacity: .9; padding-top: 8px;">Leveling</h3>
			</button>

			<div class="hoist-control sub">
				<img id="down-arrow" class="arrow" src="images/arrow-down.png"></img>

				<div class="hoist-control cell" id="down-left-box">
					<img class="small-arrow" src="images/arrow-down.png"></img>
				</div>
				<div class="hoist-control cell" id="down-right-box">
					<img class="small-arrow" src="images/arrow-down.png"></img>
				</div>
			</div>
		</div>

		<!-- Sensor Data -->
		<div class="stats" id="stats">
			<div class="cell angle">
				<h3>Angle</h3>
				<h2 id="angle">N/A</h2>
				<button class="zero angle" id="zero-angle"><h3 style="opacity:1;">&rarr;0&larr;</h3></button>
				<div id="angle-animation"></div>
			</div>
			<div class="cell">
				<h3>Altitude</h3>
				<h2 id="altitude">N/A</h2>
				<button class="zero altitude" id="zero-altitude"><h3 style="opacity:1;">&rarr;0&larr;</h3></button>
			</div>
			<div class="cell">
				<h3>Temperature</h3>
				<h2 id="temperature">N/A</h2>
			</div>
			<div class="cell">
				<h3>Pressure</h3>
				<h2 id="pressure">N/A</h2>
			</div>
		</div>
	</div>

	<script src="scripts/mqtt.js" type="text/javascript"></script>
	<script src="scripts/livestreams.js" type="text/javascript"></script>
	<script>
		mqtt.init();
		setLivestreamSrcs();
	</script>


</body>
</html>
